import{C as z}from"./Common.e109d3bf.js";import{P as T}from"./Pager.07a95cd1.js";import{_ as L,f as y,r as C,o as l,c as p,b as o,h as i,Q as N,t as b,d,w as M,s as w,H as Y,u as B,i as x,R as A,F as D,D as V,g as S,A as P,n as F,q as H}from"./app.1f640783.js";import{f as j}from"./resolveTime.e2cf2adb.js";const q={class:"post-item"},E=["src"],O={class:"else"},U={class:"post-item__date"},G={key:0},Q=["innerHTML"],J=y({__name:"PostListItem",props:{item:{type:Object,required:!0}},setup(r){function u(e){if(typeof e=="string"&&(e||"").split("?").length>=2){const h=(e||"").split("?")[0],_=(e||"").split("?")[1].split("=")[1],m=Math.floor(Math.random()*_+1);return h+"/"+m+".jpg"}return console.log("test",e),e}const t=e=>e.replace(/<RouterLink to/g,"<a href").replace(/<\/RouterLink>/g,"</a>");return(e,h)=>{const _=C("RouterLink");return l(),p("div",q,[o("div",{class:"post-item__img",onClick:h[0]||(h[0]=m=>e.$router.push(r.item.path))},[o("img",{src:i(N)(u(r.item.info.headerImage))},null,8,E)]),o("div",O,[o("p",U,b(r.item.info.date?i(j)(r.item.info.date):""),1),d(_,{to:r.item.path,class:"post-item__title"},{default:M(()=>[o("h2",null,b(r.item.info.title),1),r.item.info.subtitle?(l(),p("h3",G,b(r.item.info.subtitle),1)):w("",!0)]),_:1},8,["to"]),o("div",{class:"post-item__content",innerHTML:t(r.item.info.excerpt||"")},null,8,Q)])])}}});var K=L(J,[["__file","PostListItem.vue"]]);const W={class:"postlist-wrapper"},X=y({__name:"PostList",setup(r){const u=Y(),t=B(),e=x(()=>{const n=decodeURI(u.currentRoute.value.path.replace(/\/page/g,"").replace(/\//g,""));return n===""?1:Number(n)}),{slicedPosts:h,postListPager:_}=A(e),m=x(()=>{const n=_.value,s=n&&n.next?{text:t.value.homeNext,link:n.next}:null,c=n&&n.prev?{text:t.value.homePrev,link:n.prev}:null;return{next:s,prev:c}});return(n,s)=>(l(),p("div",W,[(l(!0),p(D,null,V(i(h),c=>(l(),S(K,{key:c.path,item:c},null,8,["item"]))),128)),i(m).next||i(m).prev?(l(),S(T,{key:0,data:i(m)},null,8,["data"])):w("",!0)]))}});var Z=L(X,[["__file","PostList.vue"]]);const ee={class:"sns-wrapper"},te=["href"],oe=y({__name:"SNS",props:{large:{type:Boolean,default:!0}},setup(r){var n;const u={github:{icon:"fa-github-alt",preLink:"https://github.com/"},linkedin:{icon:"fa-linkedin-in",preLink:"https://www.linkedin.com/in/"},facebook:{icon:"fa-facebook-f",preLink:"https://www.facebook.com/"},twitter:{icon:"fa-twitter",preLink:"https://www.twitter.com/"},zhihu:{icon:"ri-zhihu-line",preLink:"https://www.zhihu.com/people/"},weibo:{icon:"ri-weibo-fill",preLink:"http://weibo.com/u/"},email:{icon:"fa-envelope",preLink:"mailto:"},rss:{icon:"ri-rss-fill",preLink:"",iconScale:.9}},e=(n=B().value.personalInfo)==null?void 0:n.sns,h=(s,c)=>typeof s=="string"?u[c].preLink+s:s.link,_=(s,c)=>typeof s=="string"?u[c].icon:s.icon,m=(s,c)=>(typeof s=="string"?u[c].iconScale:s.iconScale)||1;return(s,c)=>{const v=C("VIcon");return l(),p("div",ee,[(l(!0),p(D,null,V(i(e),(k,g)=>(l(),p("a",{key:`${g}-${k}`,href:h(k,g),target:"_blank",rel:"noopener noreferrer"},[d(v,{class:"icon-stack"},{default:M(()=>[r.large?(l(),S(v,{key:0,name:"fa-circle",scale:"2.3",class:"icon-circle"})):w("",!0),d(v,{name:_(k,g),scale:m(k,g),class:"icon-sns",inverse:""},null,8,["name","scale"])]),_:2},1024)],8,te))),128))])}}});var ne=L(oe,[["__file","SNS.vue"]]);const se={class:"home-blog"},ae=["src"],ie={key:0,class:"hero-bubble"},re={class:"hero-bubble__body"},le=o("div",{class:"hero-bubble__tile"},null,-1),ce={class:"hero-info"},ue={class:"description"},me=y({__name:"Home",setup(r){const u=B(),t=u.value.homeHeaderImages,e=P(-1),h=P(1),_=()=>{window.scrollTo({top:document.querySelector(".hero").clientHeight,behavior:"smooth"})},m=u.value.hitokoto,n=P("\u6B63\u5728\u52A0\u8F7D\u4E00\u8A00...");let s=!1;const c=()=>{if(!m||s)return;s=!0;let f=m;f=typeof f=="string"?f:"https://v1.hitokoto.cn",fetch(f).then(a=>a.json()).then(a=>n.value=a.hitokoto).catch(a=>{console.log(`Get ${f} error: `,a)})};F(()=>{t&&t.length>0&&(e.value=Math.floor(Math.random()*t.length))});const v=f=>{if(!(t&&t.length>0))return;const a=t.length;e.value=(e.value+f+a)%a},k=x(()=>t&&t.length>0&&e.value!==-1?`url(${N(t[e.value].path)})`:"none"),g=x(()=>t&&t.length>0&&e.value!==-1?t[e.value].mask:null),I=u.value.personalInfo;return(f,a)=>{const $=C("VIcon");return l(),p("main",se,[o("div",{class:"hero",style:H({"background-image":i(k)})},[i(g)?(l(),p("div",{key:0,class:"hero-mask",style:H({background:i(g)})},null,4)):w("",!0),o("div",{class:"hero-content",style:H({opacity:h.value})},[o("img",{class:"hero-avatar hide-on-mobile",src:i(N)(i(I).avatar),alt:"hero",onMouseover:c},null,40,ae),i(m)?(l(),p("div",ie,[o("div",re,[o("p",null,b(n.value),1)]),le])):w("",!0),o("div",ce,[o("h1",null,b(i(I).name),1),o("p",ue,b(i(I).description),1)]),d(ne,{class:"hide-on-mobile",large:""}),o("button",{class:"hero-img-prev hide-on-mobile",onClick:a[0]||(a[0]=R=>v(-1))},[d($,{name:"fa-chevron-left"})]),o("button",{class:"hero-img-next hide-on-mobile",onClick:a[1]||(a[1]=R=>v(1))},[d($,{name:"fa-chevron-right"})]),o("span",{class:"hero-arrow-down hide-on-mobile",onClick:a[2]||(a[2]=R=>_())},[d($,{name:"fa-chevron-down",animation:"float"})])],4)],4),d(Z)])}}});var he=L(me,[["__file","Home.vue"]]);const pe=y({__name:"HomePage",setup(r){return(u,t)=>(l(),S(z,null,{page:M(()=>[d(he)]),_:1}))}});var ve=L(pe,[["__file","HomePage.vue"]]);export{ve as default};
